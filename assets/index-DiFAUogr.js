import{r as m,j as e}from"./index-nbjGOYo3.js";import{S as u,N as n,s as c}from"./index-DD7OlmDl.js";const f={triads:[{name:"Major Triad (大三和弦)",type:"Major",formula:"1 - 3 - 5",intervals:["Root (1)","Major 3rd (3)","Perfect 5th (5)"],semitones:[0,4,7],description:"聽起來明亮、快樂、穩定。由根音、大三度與完全五度組成。",exampleDegree:["1","3","5"]},{name:"Minor Triad (小三和弦)",type:"Minor",formula:"1 - b3 - 5",intervals:["Root (1)","Minor 3rd (b3)","Perfect 5th (5)"],semitones:[0,3,7],description:"聽起來悲傷、憂鬱、深沉。由根音、小三度與完全五度組成。",exampleDegree:["1","b3","5"]},{name:"Diminished Triad (減三和弦)",type:"Diminished",formula:"1 - b3 - b5",intervals:["Root (1)","Minor 3rd (b3)","Diminished 5th (b5)"],semitones:[0,3,6],description:"聽起來緊張、不穩定、像恐怖片。由根音、小三度與減五度組成。",exampleDegree:["1","b3","b5"]},{name:"Augmented Triad (增三和弦)",type:"Augmented",formula:"1 - 3 - #5",intervals:["Root (1)","Major 3rd (3)","Augmented 5th (#5)"],semitones:[0,4,8],description:"聽起來神秘、懸疑、擴張感。由根音、大三度與增五度組成。",exampleDegree:["1","3","#5"]}],seventh:[{name:"Major 7th (大七和弦)",type:"Maj7",formula:"1 - 3 - 5 - 7",intervals:["Root","Major 3rd","Perfect 5th","Major 7th"],semitones:[0,4,7,11],description:"聽起來夢幻、優雅、爵士感強烈。在大三和弦基礎上加入大七度。",exampleDegree:["1","3","5","7"]},{name:"Minor 7th (小七和弦)",type:"m7",formula:"1 - b3 - 5 - b7",intervals:["Root","Minor 3rd","Perfect 5th","Minor 7th"],semitones:[0,3,7,10],description:"聽起來柔和、放鬆、現代。在小三和弦基礎上加入小七度。",exampleDegree:["1","b3","5","b7"]},{name:"Dominant 7th (屬七和弦)",type:"dom7",formula:"1 - 3 - 5 - b7",intervals:["Root","Major 3rd","Perfect 5th","Minor 7th"],semitones:[0,4,7,10],description:"聽起來不穩定、有強烈解決傾向（想回到主和弦）。",exampleDegree:["1","3","5","b7"]},{name:"Half-Diminished 7th (半減七)",type:"m7b5",formula:"1 - b3 - b5 - b7",intervals:["Root","Minor 3rd","Diminished 5th","Minor 7th"],semitones:[0,3,6,10],description:"聽起來比減三和弦稍微柔和一點，常用於小調的 II 級和弦。",exampleDegree:["1","b3","b5","b7"]}]},y=()=>{const[i,x]=m.useState("C"),[o,p]=m.useState("triads"),l=(s,a)=>{const r=n.indexOf(s);return a.map(t=>{const d=(r+t)%12,b=Math.floor((r+t)/12);return{note:n[d],fullNote:`${n[d]}${4+b}`}})},h=async s=>{await c.initialize();const a=l(i,s).map(r=>r.fullNote);c.playNotes(a,"2n")};return e.jsxs("div",{className:"mx-auto p-4 sm:p-6 space-y-6 text-foreground",children:[e.jsxs("header",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-3",children:[e.jsx("span",{className:"material-icons text-primary",style:{fontSize:"24px"},children:"menu_book"}),"樂理知識庫"]}),e.jsxs("p",{className:"opacity-60 mt-2 text-sm sm:text-base",children:[e.jsx("strong",{children:"英文字母 (C, E, G)"})," 告訴你手要按哪裡，",e.jsx("strong",{children:"數字 (1, 3, 5)"})," 告訴你它們聽起來是什麼感覺。 整合兩者是聽力進步的關鍵。"]}),e.jsxs("div",{className:"mt-6 flex flex-col gap-4",children:[e.jsx("div",{className:"self-start w-full sm:w-auto",children:e.jsx(u,{value:o,onChange:p,options:[{value:"triads",label:"基礎三和弦"},{value:"seventh",label:"七和弦"}],size:"sm"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 bg-secondary/10 p-3 rounded-xl border border-border/50",children:[e.jsx("span",{className:"text-sm font-medium opacity-80 whitespace-nowrap px-1",children:"根音 (Key):"}),e.jsx("div",{className:"flex gap-2 w-full overflow-x-auto pb-2 sm:pb-0 scrollbar-hide",children:n.map(s=>e.jsx("button",{onClick:()=>x(s),className:`
                                px-3 py-1.5 rounded-md text-sm font-bold transition-all min-w-[36px] flex-shrink-0
                                ${i===s?"bg-primary text-primary-foreground shadow-sm":"bg-background hover:bg-secondary/20 border border-border/50"}
                            `,children:s},s))})]})]})]}),e.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2",children:f[o].map(s=>{const a=l(i,s.semitones);return e.jsxs("div",{className:"border border-border rounded-xl p-6 bg-card hover:bg-secondary/10 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-primary opacity-80",style:{fontSize:"20px"},children:"music_note"}),s.name]}),e.jsx("button",{onClick:()=>h(s.semitones),className:"p-2 rounded-full bg-primary/10 text-primary hover:bg-primary hover:text-primary-foreground transition-all",title:"播放和弦",children:e.jsx("span",{className:"material-icons",style:{fontSize:"20px"},children:"volume_up"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-secondary/20 p-3 rounded-lg text-sm font-mono",children:[e.jsx("span",{className:"opacity-60 block text-xs mb-1 uppercase tracking-wider",children:"Formula"}),e.jsx("span",{className:"text-lg font-bold text-primary",children:s.formula})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold opacity-80 mb-1",children:"音程結構"}),e.jsx("ul",{className:"text-sm space-y-1 opacity-70 list-disc list-inside",children:s.intervals.map((r,t)=>e.jsx("li",{children:r},t))})]}),e.jsxs("div",{className:"bg-secondary/10 p-2 rounded-lg border border-border/50",children:[e.jsxs("h4",{className:"text-xs font-semibold opacity-60 mb-2 uppercase text-center",children:[i," Key 範例"]}),e.jsx("div",{className:"flex justify-between text-center gap-1",children:a.map((r,t)=>e.jsxs("div",{className:"flex-1 bg-background/50 rounded p-1",children:[e.jsx("div",{className:"text-xs opacity-50 font-mono mb-1",children:s.exampleDegree[t]}),e.jsx("div",{className:"font-bold text-sm text-primary",children:r.note})]},t))})]})]}),e.jsxs("div",{className:"flex gap-3 items-start p-3 bg-blue-500/5 border border-blue-500/10 rounded-lg",children:[e.jsx("span",{className:"material-icons text-blue-500 mt-0.5 shrink-0",style:{fontSize:"16px"},children:"info"}),e.jsx("p",{className:"text-sm opacity-80 leading-relaxed",children:s.description})]})]})]},s.name)})}),e.jsxs("div",{className:"mt-12 p-6 bg-secondary/10 rounded-xl border border-border",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"如何練習？"}),e.jsxs("ul",{className:"space-y-2 list-decimal list-inside opacity-80",children:[e.jsxs("li",{children:["先在 ",e.jsx("strong",{children:"Learn"})," 頁面熟悉各個和弦的組成與特質描述。"]}),e.jsxs("li",{children:["切換到 ",e.jsx("strong",{children:"Try"})," 頁面，選擇「和弦練習」。"]}),e.jsx("li",{children:"試聽題目，嘗試分辨是快樂的 (Major)、悲傷的 (Minor) 還是緊張的 (Diminished)。"}),e.jsx("li",{children:"在樂器上找出對應的根音與組成音來作答。"})]})]})]})};export{y as default};
